[{"/Users/zhangxisheng/Desktop/mu/src/index.js":"1","/Users/zhangxisheng/Desktop/mu/src/App.js":"2","/Users/zhangxisheng/Desktop/mu/src/Listbox.js":"3","/Users/zhangxisheng/Desktop/mu/src/Detail.js":"4","/Users/zhangxisheng/Desktop/mu/src/Credentials.js":"5","/Users/zhangxisheng/Desktop/mu/src/Dropdown.js":"6"},{"size":223,"mtime":1669496057611,"results":"7","hashOfConfig":"8"},{"size":3839,"mtime":1669496505262,"results":"9","hashOfConfig":"8"},{"size":773,"mtime":1669495011457,"results":"10","hashOfConfig":"8"},{"size":825,"mtime":1669495011456,"results":"11","hashOfConfig":"8"},{"size":193,"mtime":1669495273608,"results":"12","hashOfConfig":"8"},{"size":692,"mtime":1669495011456,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1mp7gqx",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/zhangxisheng/Desktop/mu/src/index.js",[],[],"/Users/zhangxisheng/Desktop/mu/src/App.js",["34"],[],"import React, { useState, useEffect } from 'react';\nimport Dropdown from './Dropdown';\nimport Listbox from './Listbox';\nimport Detail from './Detail';\nimport { Credentials } from './Credentials';\nimport axios from 'axios';\n\nconst App = () => {\n\n  const spotify = Credentials();  \n\n  console.log('RENDERING APP.JS');\n\n  const data = [\n    {value: 1, name: 'A'},\n    {value: 2, name: 'B'},\n    {value: 3, name: 'C'},\n  ]; \n\n  const [token, setToken] = useState('');  \n  const [genres, setGenres] = useState({selectedGenre: '', listOfGenresFromAPI: []});\n  const [playlist, setPlaylist] = useState({selectedPlaylist: '', listOfPlaylistFromAPI: []});\n  const [tracks, setTracks] = useState({selectedTrack: '', listOfTracksFromAPI: []});\n  const [trackDetail, setTrackDetail] = useState(null);\n\n  useEffect(() => {\n\n    axios('https://accounts.spotify.com/api/token', {\n      headers: {\n        'Content-Type' : 'application/x-www-form-urlencoded',\n        'Authorization' : 'Basic ' + btoa(spotify.ClientId + ':' + spotify.ClientSecret)      \n      },\n      data: 'grant_type=client_credentials',\n      method: 'POST'\n    })\n    .then(tokenResponse => {      \n      setToken(tokenResponse.data.access_token);\n\n      axios('https://api.spotify.com/v1/browse/categories?locale=sv_US', {\n        method: 'GET',\n        headers: { 'Authorization' : 'Bearer ' + tokenResponse.data.access_token}\n      })\n      .then (genreResponse => {        \n        setGenres({\n          selectedGenre: genres.selectedGenre,\n          listOfGenresFromAPI: genreResponse.data.categories.items\n        })\n      });\n      \n    });\n\n  }, [genres.selectedGenre, spotify.ClientId, spotify.ClientSecret]); \n\n  const genreChanged = val => {\n    setGenres({\n      selectedGenre: val, \n      listOfGenresFromAPI: genres.listOfGenresFromAPI\n    });\n\n    axios(`https://api.spotify.com/v1/browse/categories/${val}/playlists?limit=10`, {\n      method: 'GET',\n      headers: { 'Authorization' : 'Bearer ' + token}\n    })\n    .then(playlistResponse => {\n      setPlaylist({\n        selectedPlaylist: playlist.selectedPlaylist,\n        listOfPlaylistFromAPI: playlistResponse.data.playlists.items\n      })\n    });\n\n    console.log(val);\n  }\n\n  const playlistChanged = val => {\n    console.log(val);\n    setPlaylist({\n      selectedPlaylist: val,\n      listOfPlaylistFromAPI: playlist.listOfPlaylistFromAPI\n    });\n  }\n\n  const buttonClicked = e => {\n    e.preventDefault();\n\n    axios(`https://api.spotify.com/v1/playlists/${playlist.selectedPlaylist}/tracks?limit=10`, {\n      method: 'GET',\n      headers: {\n        'Authorization' : 'Bearer ' + token\n      }\n    })\n    .then(tracksResponse => {\n      setTracks({\n        selectedTrack: tracks.selectedTrack,\n        listOfTracksFromAPI: tracksResponse.data.items\n      })\n    });\n  }\n\n  const listboxClicked = val => {\n\n    const currentTracks = [...tracks.listOfTracksFromAPI];\n\n    const trackInfo = currentTracks.filter(t => t.track.id === val);\n\n    setTrackDetail(trackInfo[0].track);\n\n\n\n  }\n  return (\n    <div className=\"container\">\n      <form onSubmit={buttonClicked}>        \n          <Dropdown label=\"Genre :\" options={genres.listOfGenresFromAPI} selectedValue={genres.selectedGenre} changed={genreChanged} />\n          <Dropdown label=\"Playlist :\" options={playlist.listOfPlaylistFromAPI} selectedValue={playlist.selectedPlaylist} changed={playlistChanged} />\n          <div className=\"col-sm-6 row form-group px-0\">\n            <button type='submit' className=\"btn btn-success col-sm-12\">\n              Search\n            </button>\n          </div>\n          <div className=\"row\">\n            <Listbox items={tracks.listOfTracksFromAPI} clicked={listboxClicked} />\n            {trackDetail && <Detail {...trackDetail} /> }\n          </div>        \n      </form>\n    </div>\n    \n    \n  );\n}\n\nexport default App;","/Users/zhangxisheng/Desktop/mu/src/Listbox.js",[],[],[],"/Users/zhangxisheng/Desktop/mu/src/Detail.js",[],[],"/Users/zhangxisheng/Desktop/mu/src/Credentials.js",[],[],"/Users/zhangxisheng/Desktop/mu/src/Dropdown.js",[],[],{"ruleId":"35","severity":1,"message":"36","line":14,"column":9,"nodeType":"37","messageId":"38","endLine":14,"endColumn":13},"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar"]